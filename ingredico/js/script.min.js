var tabs=document.querySelector(".news__tabs"),topPanel=document.querySelector(".top-panel"),fixedBlock=document.querySelector(".fixed__menu_box"),news=document.querySelectorAll(".news__preview_item"),city=document.querySelectorAll(".city"),phone=document.querySelectorAll(".phone__number span"),menu=document.querySelectorAll(".menu__category li a"),menuButton=document.querySelector(".menu__dropdown"),overlayMenu=document.querySelector(".overlay__menu"),menuDropdown=document.querySelector(".menu__category"),popularProduct=document.querySelectorAll(".popular__item"),newsSlider=(news=document.querySelectorAll(".news__preview_item"),document.querySelector(".news__slider")),filterDropdown=document.querySelectorAll(".dropdown .small-title"),previewText=document.querySelectorAll(".news__preview_text");const textSlice=(e,t)=>{e.forEach(e=>{e.innerHTML.length>t&&(e.innerHTML=e.innerHTML.substr(0,t-1)+" ...")})},classToggle=e=>{e.classList.toggle("active")};for(let e of city)e.addEventListener("change",()=>{for(let t of phone)t.innerHTML=e.value});const activeSlider=(e,t)=>{e.length>4&&$(t).slick({infinite:!1,slidesToShow:4,slidesToScroll:1})};activeSlider(news,newsSlider),activeSlider(popularProduct,".popular__slider"),menu.forEach(e=>{e.addEventListener("mouseenter",(function(t){t.preventDefault(),t.currentTarget.children[0].children[0].contentDocument.querySelectorAll("path").forEach(n=>{let r=n.getAttribute("fill");n.setAttribute("fill","#ffffff"),t.currentTarget.style.backgroundColor=r,e.addEventListener("mouseleave",(function(e){n.setAttribute("fill",r),e.currentTarget.style.backgroundColor="transparent"}))})}))});var greyMenu=document.querySelectorAll(".catalog-body__menu .menu__category li a");greyMenu.forEach(e=>{let t;setTimeout((function(){e.querySelector(".menu__category_img").children[0].contentDocument.querySelectorAll("path").forEach(e=>{t=e.getAttribute("fill"),e.setAttribute("fill","#D2D2D2")})}),1e3),e.addEventListener("mouseenter",(function(e){e.preventDefault(),e.currentTarget.children[0].children[0].contentDocument.querySelectorAll("path").forEach(t=>{let n=t.getAttribute("fill");t.setAttribute("fill",n),e.currentTarget.style.backgroundColor=n,link.addEventListener("mouseleave",(function(e){t.setAttribute("fill",n),e.currentTarget.style.backgroundColor="transparent"}))})}))}),menuButton.addEventListener("click",(function(){classToggle(menuButton),classToggle(overlayMenu),classToggle(menuDropdown)})),"/"==window.location.pathname&&tabs.addEventListener("click",e=>{let t=e.target.dataset.preview;for(let t=0;t<tabs.children.length;t++)tabs.children[t].classList.remove("active"),e.target.classList.add("active");news.forEach(e=>{e.classList.remove("active"),e.classList.add("disable"),e.dataset.preview!==t&&"all"!==t||(e.classList.remove("disable"),e.classList.add("active"))})}),textSlice(previewText,130);const fixedMenu=()=>{pageYOffset+100>fixedBlock.offsetHeight?(topPanel.classList.add("active"),topPanel.setAttribute("style","transform: translate(0px, 0px);")):pageYOffset<200?topPanel.setAttribute("style","transform: translate(0px, 0px);"):pageYOffset+100<fixedBlock.offsetHeight&&(topPanel.classList.remove("active"),topPanel.setAttribute("style","transform: translate(0px, -200px); transition: all .3s linear;"))};fixedMenu(),window.addEventListener("scroll",(function(){fixedMenu()})),filterDropdown.forEach(e=>{e.addEventListener("click",e=>{e.currentTarget.classList.toggle("active")})});var rangeRail=document.querySelector(".price__range_rail"),rangeTrack=document.querySelector(".price__range_track"),rangeHandleLeft=document.querySelector(".price__range_handle-1"),rangeHandleRight=document.querySelector(".price__range_handle-2"),inputMin=document.querySelector(".price__input_min"),inputMax=document.querySelector(".price__input_max"),valueMax=inputMax.getAttribute("aria-valuemax");rangeHandleLeft.setAttribute("style","left: "+inputMin.value/valueMax*100+"%;"),rangeHandleRight.setAttribute("style","left: "+inputMax.value/valueMax*100+"%;"),rangeHandleLeft.setAttribute("aria-valuenow",inputMin.value),rangeHandleRight.setAttribute("aria-valuenow",inputMax.value);const activeButton=(e,t,n,r)=>{e.onmousedown=function(e){let l=e.currentTarget,a=Math.floor(rangeRail.getBoundingClientRect().width);document.onmousemove=function(e){e=e.pageX-Math.floor(rangeRail.getBoundingClientRect().x),l.style.left=e/(a/100)+"%",Math.floor(l.setAttribute("aria-valuenow",e/(a/100))),e>a?(l.style.left="100%",Math.floor(l.setAttribute("aria-valuenow",100))):e<=0&&(l.style.left="0%",Math.floor(l.setAttribute("aria-valuenow",0)));let o=t.getAttribute("aria-valuenow");n.setAttribute("value",Math.floor(inputMax.getAttribute("aria-valuemax")/100*o)),r==inputMax?o>r.value/valueMax*100-8&&(l.style.left=r.value/valueMax*100-8+"%",n.setAttribute("value",r.value)):r==inputMin&&(console.log("1"),o<r.value/valueMax*100+8&&(l.style.left=r.value/valueMax*100+8+"%",n.setAttribute("value",r.value)))},document.onmouseup=function(){document.onmousemove=null}}};activeButton(rangeHandleLeft,rangeHandleLeft,inputMin,inputMax),activeButton(rangeHandleRight,rangeHandleRight,inputMax,inputMin);